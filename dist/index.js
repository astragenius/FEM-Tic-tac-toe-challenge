(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.d({},{j:()=>g}),e.p;const t=e.p+"assets/images/logo.svg",n=e.p+"assets/images/toggle-x.svg",r=e.p+"assets/images/toggle-o.svg";class a{constructor(e,t){this.player=e,this.symbol=t,this.points=0,this.playerTurn="X"===t}setPoints(){this.points++}getPoints(){return this.points}getSymbol(){return this.symbol}getPlayer(){return this.player}}class o extends a{cpuMove(){let e,t=this;e="X"===t.symbol?"O":"X";const a=[...document.querySelectorAll(".game-tile")],o=document.querySelector(".player-turn-symbol"),s=document.querySelector(".game-field");c("none");const l=a.filter((e=>!e.classList.contains("X-marker")&&!e.classList.contains("O-marker")));function c(e){a.forEach((t=>{t.style.pointerEvents=e}))}let i=(u=l.length,Math.floor(Math.random()*u));var u;setTimeout((()=>{var a;a=i,0!==l.length&&(o.setAttribute("data-turn",e),l[a].classList.add(`${t.symbol}-marker`),s.setAttribute("data-turn",e),o.src="X"===t.symbol?r:n),c(""),g(t)}),1e3)}}document.querySelector(".game-menu-logo").src=t;class s{constructor(e,t){this.draw=0,this.p1=e,this.p2=t}static resetGameBoard(){const e=[...document.querySelectorAll(".game-tile")],t=document.querySelector(".player-turn-symbol"),r=document.querySelector(".game-field");this.modalContainer=document.querySelector(".modal-container"),e.forEach((e=>{e.classList.remove("X-marker"),e.classList.remove("O-marker")})),r.setAttribute("data-turn","X"),t.setAttribute("data-turn","O"),t.src=n,this.modalContainer.setAttribute("data-modal-active",!1)}resetGame(){this.p1.points=0,this.p2.points=0,this.draw=0,this.renderPoints()}checkIsDraw(){return[...document.querySelectorAll(".game-tile")].every((e=>e.classList.contains("X-marker")||e.classList.contains("O-marker")))}checkWinner(e){const t=[...document.querySelectorAll(".game-tile")];return[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]].some((n=>n.every((n=>t[n].classList.contains(e)))))}addPointsP1(){this.p1.points++}addPointsP2(){this.p2.points++}setDraw(){this.draw++}setPlayerName(){const e=document.getElementById("playerName1"),t=document.getElementById("playerName2");"X"===this.p1.symbol&&"O"===this.p2.symbol&&(e.textContent=`${this.p1.symbol} (${this.p1.player})`,t.textContent=`${this.p2.symbol} (${this.p2.player})`),"O"===this.p1.symbol&&"X"===this.p2.symbol&&(e.textContent=`${this.p2.symbol} (${this.p2.player})`,t.textContent=`${this.p1.symbol} (${this.p1.player})`)}renderPoints(){const e=document.querySelector("#playerScore"),t=document.querySelector("#tieScore"),n=document.querySelector("#player2Score");e.textContent=this.p1.points,n.textContent=this.p2.points,t.textContent=this.draw}}const l=document.querySelector(".player-turn-symbol"),c=document.querySelector(".game-board-logo");let i;document.querySelector(".game-menu-logo").src=t;let u={headText:"restart game?",playerSymbol:"neutral",btnText1:"no, cancel",btnText2:"yes, restart",closeFunc:function(){document.querySelector(".modal-container").setAttribute("data-modal-active",!1)},btnSec1Function:()=>{const e=document.querySelector(".game-board"),t=document.querySelector(".game-menu");s.resetGameBoard(),i.resetGame(),i=null,e.setAttribute("data-game-board",!1),t.setAttribute("data-toggle",!0)}},d={playerText:"",headText:"Round tied",playerSymbol:"neutral",btnText1:"quit",btnText2:"next round",closeFunc:function(){document.querySelector(".modal-container").setAttribute("data-modal-active",!1)},btnSec1Function:function(){s.resetGameBoard(),T()}},m={playerText:"",headText:"",btnText1:"quit",btnText2:"next round",closeFunc:function(){const e=document.querySelector(".modal-container");s.resetGameBoard(),e.setAttribute("data-modal-active",!1);const t=document.querySelector(".game-menu"),n=document.querySelector(".game-board");t.setAttribute("data-toggle",!0),n.setAttribute("data-game-board",!1)},btnSec1Function:function(){s.resetGameBoard(),T()}};const p=new class{constructor(e,t=""){this.state={playerText:e.playerText,headText:e.headText,playerSymbol:e.playerSymbol,btnText1:e.btnText1,btnText2:e.btnText2,closeFunc:e.closeFunc,btnSec1Function:e.btnSec1Function},this.modalContainer=document.querySelector(".modal-container")}newState(e,t=""){this.state={playerText:e.playerText,headText:e.headText,playerSymbol:e.playerSymbol,btnText1:e.btnText1,btnText2:e.btnText2,closeFunc:e.closeFunc,btnSec1Function:e.btnSec1Function},this.player=t}update(){this.modalContainer.appendChild(this.render())}delModal(){this.modalContainer.contains(document.querySelector(".modal"))&&this.modalContainer.removeChild(document.querySelector(".modal"))}render(){this.delModal();const e=document.createElement("section");e.className+="modal bg-dark-navy1 full-bleed";const t=document.createElement("div");t.classList.add("modal-content");const n=document.createElement("p");n.className+="uppercase clr-neutral-silver fw-700 fs-14 letter-spacing-xs margin-block-end-24",""===this.player.player?n.textContent="":"YOU"===this.player.player?n.textContent=`${this.player.player} won!`:"CPU"===this.player.player?n.textContent="Oh no, you lost...":"Round tied"===this.state.headText||"restart game?"===this.state.headText?n.textContent="":n.textContent=`${this.player.player} winns!`;const r=document.createElement("h3");r.className+="modal-titel | fs-24 uppercase clr-neutral-silver fw-700 letter-spacing-m margin-block-end-24",r.setAttribute("data-winner",this.player.symbol),"O"===this.player.symbol||"X"===this.player.symbol?r.textContent="takes the round":(r.textContent=this.state.headText,r.setAttribute("data-winner",this.state.playerSymbol));const a=document.createElement("div");a.classList.add("modal-button-container");const o=document.createElement("button"),s=document.createElement("button");return o.className+="btn btn-sec-1 | fs-16 fw-700 letter-spacing-xs bg-light-yellow padding-16",s.className+="btn btn-sec-2 | fs-16 fw-700 letter-spacing-xs bg-neutral-silver padding-16",s.addEventListener("click",(()=>{this.state.closeFunc()})),o.addEventListener("click",(()=>{this.state.btnSec1Function()})),o.textContent=this.state.btnText2,s.textContent=this.state.btnText1,a.appendChild(s),a.appendChild(o),t.appendChild(n),t.appendChild(r),t.appendChild(a),e.appendChild(t),e}}(u);l.src=n,c.src=t;const y=document.getElementById("btn-pvp");function b(e,t){const n=document.querySelector(".modal-container");n.contains(document.querySelector(".modal"))||(p.newState(e,t),n.appendChild(p.render())),n.contains(document.querySelector(".modal"))&&(p.newState(e,t),n.appendChild(p.render())),"false"===n.getAttribute("data-modal-active")&&n.setAttribute("data-modal-active",!0)}function h(){!0===i.checkIsDraw()&&!1===i.checkWinner("O-marker")&&!1===i.checkWinner("X-marker")&&(b(d),i.setDraw(),i.renderPoints())}function g(e){!0===i.checkWinner("X-marker")?(console.log("X-winns",e),p.newState(m,e),b(m,e),i.addPointsP1(),i.renderPoints(),"X"===i.p1.getSymbol()?(i.p1.playerTurn=!0,i.p2.playerTurn=!1):(i.p1.playerTurn=!1,i.p2.playerTurn=!0)):!0===i.checkWinner("O-marker")&&(console.log("O-winns",e),p.newState(m,e),b(m,e),i.addPointsP2(),i.renderPoints(),"X"===i.p1.getSymbol()?(i.p1.playerTurn=!0,i.p2.playerTurn=!1):(i.p1.playerTurn=!1,i.p2.playerTurn=!0))}function S(){const e=document.querySelector(".game-field"),t=document.querySelector(".player-turn-symbol");this.classList.add(`${i.p1.symbol}-marker`),t.src="X"===i.p1.symbol?r:n,!0===i.p1.playerTurn&&i.checkWinner(`${i.p1.symbol}-marker`)?(t.setAttribute("data-turn",i.p2.symbol),e.setAttribute("data-turn",i.p1.symbol),g(i.p1),i.p1.playerTurn=!1,i.p2.playerTurn=!0,i.checkWinner(`${i.p1.symbol}-marker`)||i.p2.cpuMove()):(i.p2.cpuMove(),i.p1.playerTurn=!0,i.p2.playerTurn=!1,g(i.p2)),h()}function x(){const e=document.querySelector(".game-field"),t=document.querySelector(".player-turn-symbol");!1===i.p2.playerTurn?(t.setAttribute("data-turn",i.p1.symbol),this.classList.add(`${i.p1.symbol}-marker`),e.setAttribute("data-turn",i.p2.symbol),t.src="X"===i.p1.symbol?r:n,i.p2.playerTurn=!0,i.p1.playerTurn=!1,g(i.p1)):(t.setAttribute("data-turn",i.p2.symbol),this.classList.add(`${i.p2.symbol}-marker`),e.setAttribute("data-turn",i.p1.symbol),t.src="X"===i.p2.symbol?r:n,i.p1.playerTurn=!0,i.p2.playerTurn=!1,g(i.p2)),h()}function T(){const e=[...document.querySelectorAll(".game-tile")];document.querySelector(".btn-reload").addEventListener("click",(()=>b(u))),"CPU"===i.p2.getPlayer()?("X"===i.p2.symbol&&(i.p1.playerTurn=!0,i.p2.playerTurn=!1,i.p2.cpuMove()),e.forEach((e=>{e.removeEventListener("click",x,!0),e.addEventListener("click",S,!0)}))):e.forEach((e=>{e.removeEventListener("click",S,!0),e.addEventListener("click",x,!0)}))}document.getElementById("btn-pvsCpu").addEventListener("click",(()=>{const e=document.querySelector(".game-menu"),t=document.querySelector(".game-board");(()=>{const e=document.querySelector(".checkbox").checked;!0===e?i=new s(new a("YOU","X"),new o("CPU","O")):!1===e&&(i=new s(new a("YOU","O"),new o("CPU","X")))})(),e.setAttribute("data-toggle",!1),t.setAttribute("data-game-board",!0),T(),i.setPlayerName()})),y.addEventListener("click",(()=>{const e=document.querySelector(".game-menu"),t=document.querySelector(".game-board");(()=>{const e=document.querySelector(".checkbox").checked;!0===e?i=new s(new a("Player1","X"),new a("Player2","O")):!1===e&&(i=new s(new a("Player1","O"),new a("Player2","X")))})(),e.setAttribute("data-toggle",!1),t.setAttribute("data-game-board",!0),T(),i.setPlayerName()}))})();
//# sourceMappingURL=index.js.map